# VDB Manager Configuration Example
#
# Copy this file to ~/.vdb-manager/config.yaml or ~/.vdb-manager/config.yml
# and customize as needed. Both extensions are supported, with config.yaml
# taking precedence if both exist.
# The ~/.vdb-manager/ directory will be created automatically on first run.
# You can also override any setting using environment variables.

# Database configuration
database:
  # Options: "qdrant" (production, requires Qdrant server), "inmemory" (testing/dev, no external dependencies)
  type: "qdrant"
  url: "http://localhost:6333"  # Qdrant server URL (only used when type is "qdrant")

# Ollama embedding service configuration
ollama:
  url: "http://localhost:11434/api/embeddings"  # Ollama API endpoint
  model: "nomic-embed-text:latest"  # Embedding model to use
  timeout: 60  # Request timeout in seconds
  vector_size: 768  # Size of embedding vectors (default: 768 for nomic-embed-text, adjust for other models)

# Text processing configuration
text_processing:
  chunk_size: 800  # Number of words per chunk
  overlap: 100  # Number of overlapping words between chunks
  max_text_length: 5000  # Maximum text length for embedding (truncates longer text)

# Rate limiting configuration
rate_limiting:
  disabled: false  # Set to true to disable rate limiting (DEVELOPMENT ONLY - not recommended for production)
  db_requests_per_second: 100  # Maximum database requests per second
  embedding_requests_per_second: 10  # Maximum embedding API requests per second

# Security configuration
security:
  # Additional directories to block (beyond always-blocked virtual filesystems)
  # Always-blocked: /proc, /sys, /dev, /run, /var/run (virtual filesystems)
  # Optional system dirs (add here to block): /etc, /root, /boot, /sbin, /usr/sbin
  # Custom paths: You can add any custom directory path to block
  # IMPORTANT: All paths must be absolute (or use ~ which expands to absolute)
  # Relative paths are NOT allowed for security reasons (they would resolve differently
  # depending on where the CLI is executed, making security rules non-deterministic)
  # If not listed, optional system paths will only generate warnings
  restricted_paths: []
  # Example: To block /etc, /root, and custom directories, uncomment:
  # restricted_paths:
  #   - /etc                    # System configuration directory (absolute path)
  #   - /root                   # Root user home directory (absolute path)
  #   - /mnt/secrets            # Custom restricted directory (absolute path)
  #   - ~/private               # User's private directory (expands to /home/user/private)
  #   - /var/sensitive          # Another custom restricted directory (absolute path)

  # Glob patterns to block (supports standard glob syntax: *, **, ?)
  # Patterns are normalized (expand ~, make absolute, resolve symlinks) before matching
  # Example: Block all files under /etc and /var/secrets
  denied_patterns: []
  # Example: To block specific patterns, uncomment:
  # denied_patterns:
  #   - /etc/**                 # Block all files under /etc recursively
  #   - /var/secrets/*          # Block all files directly under /var/secrets
  #   - ~/private/*.md          # Block all .md files in user's private directory
  #   - /tmp/**/secrets/*        # Block secrets directories anywhere under /tmp

  # Glob patterns to explicitly permit (overrides denied_patterns)
  # Allowed patterns have higher precedence than denied patterns
  # Example: Allow specific subdirectories even if parent is denied
  allowed_patterns: []
  # Example: To allow specific patterns, uncomment:
  # allowed_patterns:
  #   - /etc/company-docs/**     # Allow company docs under /etc even if /etc/** is denied
  #   - ~/private/public/*       # Allow public files in private directory
